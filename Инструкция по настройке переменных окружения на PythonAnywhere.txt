# Настройка переменных окружения для отправки email

## Переменные окружения для настройки на PythonAnywhere

Для корректной работы отправки email в чат-боте, необходимо настроить следующие переменные окружения на PythonAnywhere. Вот пошаговая инструкция по их настройке:

1. Перейдите в раздел **Web** на PythonAnywhere
2. Найдите вашe веб-приложение в списке и нажмите на него
3. Прокрутите страницу вниз до раздела **Environment variables**
4. Добавьте следующие переменные:

| Переменная | Значение | Описание |
|------------|----------|----------|
| EMAIL_SENDER | savbes@inbox.ru | Email-адрес отправителя |
| EMAIL_PASSWORD | ваш_пароль_или_пароль_приложения | Пароль от почты (рекомендуется использовать пароль приложения) |
| EMAIL_RECIPIENT | savbes@inbox.ru | Email-адрес получателя уведомлений |
| EMAIL_SMTP_SERVER | smtp.mail.ru | SMTP-сервер Mail.ru |
| EMAIL_SMTP_PORT | 465 | Порт SMTP-сервера (465 для SSL) |
| ENABLE_EMAIL_NOTIFICATIONS | True | Включить отправку уведомлений |

После добавления этих переменных, нажмите кнопку **Save** для сохранения изменений.

## Получение пароля приложения для Mail.ru

Для большей безопасности рекомендуется использовать пароль приложения вместо основного пароля от аккаунта:

1. Войдите в свой аккаунт Mail.ru
2. Перейдите в **Настройки** -> **Безопасность**
3. Прокрутите вниз до раздела **Пароли для внешних приложений**
4. Создайте новый пароль приложения (например, "САВБЕС Чат-бот")
5. Скопируйте полученный пароль и используйте его для переменной EMAIL_PASSWORD

## Проверка работы отправки email

После настройки всех переменных окружения, перезапустите ваше веб-приложение:

1. В разделе **Web** нажмите кнопку **Reload** для вашего приложения
2. Подождите несколько секунд, пока приложение перезапустится
3. Проверьте отправку email, введя свои контактные данные в чат-бот

Вы должны получить письмо с результатами расчета на указанный email.

## Отладка

Если письма не приходят, проверьте логи вашего приложения:

1. В разделе **Web** найдите ссылку **Error log**
2. Проверьте логи на наличие ошибок, связанных с отправкой email

Типичные ошибки:
- Неверные учетные данные (email/пароль)
- Неправильный SMTP-сервер или порт
- Ограничения безопасности на почтовом сервере (проверьте настройки безопасности Mail.ru)